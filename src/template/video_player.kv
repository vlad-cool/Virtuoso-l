        FloatLayout:
            Video:
                id: video_player
                size: {{ data["video_player"]["width"] }}, {{ data["video_player"]["height"] }}
                size_hint: None, None
                pos: {{ data["video_player"]["x"] }}, {{ data["video_player"]["y"] }}
                state: self.state if root.index == 1 else "pause"
                canvas.before:
                    PushMatrix
                    Rotate:
                        angle: 180 if root.ids.video_player.source == "/dev/video0" else 0
                        origin: self.center
                canvas.after:
                    PopMatrix

            Button:
                size: {{ data["video_player"]["width"] }}, {{ data["video_player"]["height"] }}
                size_hint: None, None
                pos: {{ data["video_player"]["x"] }}, {{ data["video_player"]["y"] }}
                on_press: app.video_player.play_pause()
                disabled: root.ids.video_player.source == "/dev/video0"
                background_color: root.color_invis

            BoxLayout:
                id: player_controls
                orientation: "horizontal"
                size: {{ data["player_controls"]["width"] }}, {{ data["player_controls"]["height"] }}
                size_hint: None, None
                pos: {{ data["player_controls"]["x"] }}, {{ data["player_controls"]["y"] }}

                Label:
                    text: str(root.video_id + 1) if root.video_id != -1 else "--"
                    font_size: {{ data["player_controls"]["font_size"] }}
                    font_name: "agencyb"

                    size: self.parent.height, self.parent.width - self.parent.height * 6

                Button:
                    id: previous_video
                    size: self.parent.height, self.parent.height
                    size_hint: None, None
                    background_normal: "assets/previous_video_light.png"
                    background_down: "assets/previous_video_dark.png"
                    on_press: app.video_player.play_previous_video()

                Button:
                    id: back_video
                    size: self.parent.height, self.parent.height
                    size_hint: None, None
                    background_normal: "assets/rewind_backward_light.png"
                    background_down: "assets/rewind_backward_dark.png"
                    on_press: app.video_player.rewind_video(-1)

                Button:
                    id: play_video
                    size: self.parent.height, self.parent.height
                    size_hint: None, None
                    background_normal: "assets/pause_light.png" if root.ids.video_player.state == "play" else "assets/play_light.png"
                    background_down: "assets/pause_dark.png" if root.ids.video_player.state == "play" else "assets/play_dark.png"
                    disabled: root.ids.video_player.source == "/dev/video0"
                    on_press: app.video_player.play_pause()

                Button:
                    id: stop_video
                    size: self.parent.height, self.parent.height
                    size_hint: None, None
                    background_normal: "assets/stop_light.png"
                    background_down: "assets/stop_dark.png"
                    on_press: app.video_player.stop_playback()

                Button:
                    id: forward_video
                    size: self.parent.height, self.parent.height
                    size_hint: None, None
                    background_normal: "assets/rewind_forward_light.png"
                    background_down: "assets/rewind_forward_dark.png"
                    on_press: app.video_player.rewind_video(1)

                Button:
                    id: next_video
                    size: self.parent.height, self.parent.height
                    size_hint: None, None
                    background_normal: "assets/next_video_light.png"
                    background_down: "assets/next_video_dark.png"
                    on_press: app.video_player.play_next_video()

            BoxLayout:
                id: video_playback
                orientation: "horizontal"
                size: {{ data["video_playback"]["width"] }}, {{ data["video_playback"]["height"] }}
                size_hint: None, None
                pos: {{ data["video_playback"]["x"] }}, {{ data["video_playback"]["y"] }}

                Label:
                    text: "-8 sec"
                    font_size: {{ data["video_playback"]["font_size"] }}
                    font_name: "agencyb"

                    canvas.before:
                        Color:
                            rgba: [0.8, 0.8, 0.8, 1]
                        Line:
                            width: 4
                            rectangle: self.x, self.y, self.width, self.height
                        Color:
                            rgba: [0.2, 0.2, 0.2, 1]
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    text: "-7 sec"
                    font_size: {{ data["video_playback"]["font_size"] }}
                    font_name: "agencyb"

                    canvas.before:
                        Color:
                            rgba: [0.8, 0.8, 0.8, 1]
                        Line:
                            width: 4
                            rectangle: self.x, self.y, self.width, self.height
                        Color:
                            rgba: [0.2, 0.2, 0.2, 1]
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    text: "-6 sec"
                    font_size: {{ data["video_playback"]["font_size"] }}
                    font_name: "agencyb"

                    canvas.before:
                        Color:
                            rgba: [0.8, 0.8, 0.8, 1]
                        Line:
                            width: 4
                            rectangle: self.x, self.y, self.width, self.height
                        Color:
                            rgba: [0.2, 0.2, 0.2, 1]
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    text: "-5 sec"
                    font_size: {{ data["video_playback"]["font_size"] }}
                    font_name: "agencyb"

                    canvas.before:
                        Color:
                            rgba: [0.8, 0.8, 0.8, 1]
                        Line:
                            width: 4
                            rectangle: self.x, self.y, self.width, self.height
                        Color:
                            rgba: [0.2, 0.2, 0.2, 1]
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    text: "-4 sec"
                    font_size: {{ data["video_playback"]["font_size"] }}
                    font_name: "agencyb"

                    canvas.before:
                        Color:
                            rgba: [0.8, 0.8, 0.8, 1]
                        Line:
                            width: 4
                            rectangle: self.x, self.y, self.width, self.height
                        Color:
                            rgba: [0.2, 0.2, 0.2, 1]
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    text: "-3 sec"
                    font_size: {{ data["video_playback"]["font_size"] }}
                    font_name: "agencyb"

                    canvas.before:
                        Color:
                            rgba: [0.8, 0.8, 0.8, 1]
                        Line:
                            width: 4
                            rectangle: self.x, self.y, self.width, self.height
                        Color:
                            rgba: [0.2, 0.2, 0.2, 1]
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    text: "-2 sec"
                    font_size: {{ data["video_playback"]["font_size"] }}
                    font_name: "agencyb"

                    canvas.before:
                        Color:
                            rgba: [0.8, 0.8, 0.8, 1]
                        Line:
                            width: 4
                            rectangle: self.x, self.y, self.width, self.height
                        Color:
                            rgba: [0.2, 0.2, 0.2, 1]
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    text: "-1 sec"
                    font_size: {{ data["video_playback"]["font_size"] }}
                    font_name: "agencyb"

                    canvas.before:
                        Color:
                            rgba: [0.8, 0.8, 0.8, 1]
                        Line:
                            width: 4
                            rectangle: self.x, self.y, self.width, self.height
                        Color:
                            rgba: [0.2, 0.2, 0.2, 1]
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    text: "1 sec"
                    font_size: {{ data["video_playback"]["font_size"] }}
                    font_name: "agencyb"

                    canvas.before:
                        Color:
                            rgba: [0.8, 0.8, 0.8, 1]
                        Line:
                            width: 4
                            rectangle: self.x, self.y, self.width, self.height
                        Color:
                            rgba: [0.2, 0.2, 0.2, 1]
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    text: "2 sec"
                    font_size: {{ data["video_playback"]["font_size"] }}
                    font_name: "agencyb"

                    canvas.before:
                        Color:
                            rgba: [0.8, 0.8, 0.8, 1]
                        Line:
                            width: 4
                            rectangle: self.x, self.y, self.width, self.height
                        Color:
                            rgba: [0.2, 0.2, 0.2, 1]
                        Rectangle:
                            pos: self.pos
                            size: self.size

            Label:
                size: ({{ data["video_pointer"]["width"] }}, {{ data["video_pointer"]["height"] }}) if root.video_id >= 0 and root.ids.video_player.loaded else (0, 0)
                pos: root.ids.video_playback.pos[0] - self.size[0] / 2 + root.ids.video_playback.size[0] * max(0, 10 - root.ids.video_player.duration + root.ids.video_player.position) / 10, root.ids.video_playback.pos[1]
                size_hint: None, None

                canvas.before:
                    Color:
                        rgba: [0.8, 0.8, 0.8, 1]
                    Line:
                        width: 4
                        rectangle: self.x, self.y, self.width, self.height
                    Color:
                        rgba: [1, 0.2, 0.2, 1]
                    Rectangle:
                        pos: self.pos
                        size: self.size